var module,countdown=function(t){function e(t,e){var i=t.getTime();return t.setUTCMonth(t.getUTCMonth()+e),Math.round((t.getTime()-i)/864e5)}function i(t){var e=t.getTime(),i=new Date(e);return i.setUTCMonth(t.getUTCMonth()+1),Math.round((i.getTime()-e)/864e5)}function n(t,e){return t+" "+(1===t?h[e]:l[e])}function s(){}function a(t,e,n,s,a,o){if(0<=t[n]&&(e+=t[n],delete t[n]),e/=a,1>=e+1)return 0;if(0<=t[s]){switch(t[s]=+(t[s]+e).toFixed(o),s){case"seconds":if(60!==t.seconds||isNaN(t.minutes))break;t.minutes++,t.seconds=0;case"minutes":if(60!==t.minutes||isNaN(t.hours))break;t.hours++,t.minutes=0;case"hours":if(24!==t.hours||isNaN(t.days))break;t.days++,t.hours=0;case"days":if(7!==t.days||isNaN(t.weeks))break;t.weeks++,t.days=0;case"weeks":if(t.weeks!==i(t.refMonth)/7||isNaN(t.months))break;t.months++,t.weeks=0;case"months":if(12!==t.months||isNaN(t.years))break;t.years++,t.months=0;case"years":if(10!==t.years||isNaN(t.decades))break;t.decades++,t.years=0;case"decades":if(10!==t.decades||isNaN(t.centuries))break;t.centuries++,t.decades=0;case"centuries":if(10!==t.centuries||isNaN(t.millennia))break;t.millennia++,t.centuries=0}return 0}return e}function o(t,n,s,o,r,h){if(t.start=n,t.end=s,t.units=o,t.value=s.getTime()-n.getTime(),0>t.value){var l=s;s=n,n=l}t.refMonth=new Date(n.getFullYear(),n.getMonth(),15);try{t.millennia=0,t.centuries=0,t.decades=0,t.years=s.getUTCFullYear()-n.getUTCFullYear(),t.months=s.getUTCMonth()-n.getUTCMonth(),t.weeks=0,t.days=s.getUTCDate()-n.getUTCDate(),t.hours=s.getUTCHours()-n.getUTCHours(),t.minutes=s.getUTCMinutes()-n.getUTCMinutes(),t.seconds=s.getUTCSeconds()-n.getUTCSeconds(),t.milliseconds=s.getUTCMilliseconds()-n.getUTCMilliseconds();var c;for(0>t.milliseconds?(c=d(-t.milliseconds/1e3),t.seconds-=c,t.milliseconds+=1e3*c):1e3<=t.milliseconds&&(t.seconds+=u(t.milliseconds/1e3),t.milliseconds%=1e3),0>t.seconds?(c=d(-t.seconds/60),t.minutes-=c,t.seconds+=60*c):60<=t.seconds&&(t.minutes+=u(t.seconds/60),t.seconds%=60),0>t.minutes?(c=d(-t.minutes/60),t.hours-=c,t.minutes+=60*c):60<=t.minutes&&(t.hours+=u(t.minutes/60),t.minutes%=60),0>t.hours?(c=d(-t.hours/24),t.days-=c,t.hours+=24*c):24<=t.hours&&(t.days+=u(t.hours/24),t.hours%=24);0>t.days;)t.months--,t.days+=e(t.refMonth,1);if(7<=t.days&&(t.weeks+=u(t.days/7),t.days%=7),0>t.months?(c=d(-t.months/12),t.years-=c,t.months+=12*c):12<=t.months&&(t.years+=u(t.months/12),t.months%=12),10<=t.years&&(t.decades+=u(t.years/10),t.years%=10,10<=t.decades&&(t.centuries+=u(t.decades/10),t.decades%=10,10<=t.centuries&&(t.millennia+=u(t.centuries/10),t.centuries%=10))),n=0,!(1024&o)||n>=r?(t.centuries+=10*t.millennia,delete t.millennia):t.millennia&&n++,!(512&o)||n>=r?(t.decades+=10*t.centuries,delete t.centuries):t.centuries&&n++,!(256&o)||n>=r?(t.years+=10*t.decades,delete t.decades):t.decades&&n++,!(128&o)||n>=r?(t.months+=12*t.years,delete t.years):t.years&&n++,!(64&o)||n>=r?(t.months&&(t.days+=e(t.refMonth,t.months)),delete t.months,7<=t.days&&(t.weeks+=u(t.days/7),t.days%=7)):t.months&&n++,!(32&o)||n>=r?(t.days+=7*t.weeks,delete t.weeks):t.weeks&&n++,!(16&o)||n>=r?(t.hours+=24*t.days,delete t.days):t.days&&n++,!(8&o)||n>=r?(t.minutes+=60*t.hours,delete t.hours):t.hours&&n++,!(4&o)||n>=r?(t.seconds+=60*t.minutes,delete t.minutes):t.minutes&&n++,!(2&o)||n>=r?(t.milliseconds+=1e3*t.seconds,delete t.seconds):t.seconds&&n++,!(1&o)||n>=r){var m=a(t,0,"milliseconds","seconds",1e3,h);if(m&&(m=a(t,m,"seconds","minutes",60,h))&&(m=a(t,m,"minutes","hours",60,h))&&(m=a(t,m,"hours","days",24,h))&&(m=a(t,m,"days","weeks",7,h))&&(m=a(t,m,"weeks","months",i(t.refMonth)/7,h))){o=m;var g,f=t.refMonth,y=f.getTime(),p=new Date(y);if(p.setUTCFullYear(f.getUTCFullYear()+1),g=Math.round((p.getTime()-y)/864e5),(m=a(t,o,"months","years",g/i(t.refMonth),h))&&(m=a(t,m,"years","decades",10,h))&&(m=a(t,m,"decades","centuries",10,h))&&(m=a(t,m,"centuries","millennia",10,h)))throw Error("Fractional unit overflow")}}}finally{delete t.refMonth}return t}function r(t,e,i,n,a){var r;if(i=+i||222,n=n>0?n:0/0,a=a>0?20>a?Math.round(a):20:0,"function"==typeof t?(r=t,t=null):t instanceof Date||(t=null!==t&&isFinite(t)?new Date(t):null),"function"==typeof e?(r=e,e=null):e instanceof Date||(e=null!==e&&isFinite(e)?new Date(e):null),!t&&!e)return new s;if(!r)return o(new s,t||new Date,e||new Date,i,n,a);var h,l=1&i?1e3/30:2&i?1e3:4&i?6e4:8&i?36e5:16&i?864e5:6048e5,c=function(){r(o(new s,t||new Date,e||new Date,i,n,a),h)};return c(),h=setInterval(c,l)}var h,l,c,d=Math.ceil,u=Math.floor;return s.prototype.toString=function(){var t=c(this),e=t.length;return e?(e>1&&(t[e-1]="and "+t[e-1]),t.join(", ")):""},s.prototype.toHTML=function(t){t=t||"span";var e=c(this),i=e.length;if(!i)return"";for(var n=0;i>n;n++)e[n]="<"+t+">"+e[n]+"</"+t+">";return--i&&(e[i]="and "+e[i]),e.join(", ")},c=function(t){var e=[],i=t.millennia;return i&&e.push(n(i,10)),(i=t.centuries)&&e.push(n(i,9)),(i=t.decades)&&e.push(n(i,8)),(i=t.years)&&e.push(n(i,7)),(i=t.months)&&e.push(n(i,6)),(i=t.weeks)&&e.push(n(i,5)),(i=t.days)&&e.push(n(i,4)),(i=t.hours)&&e.push(n(i,3)),(i=t.minutes)&&e.push(n(i,2)),(i=t.seconds)&&e.push(n(i,1)),(i=t.milliseconds)&&e.push(n(i,0)),e},r.MILLISECONDS=1,r.SECONDS=2,r.MINUTES=4,r.HOURS=8,r.DAYS=16,r.WEEKS=32,r.MONTHS=64,r.YEARS=128,r.DECADES=256,r.CENTURIES=512,r.MILLENNIA=1024,r.DEFAULTS=222,r.ALL=2047,r.setLabels=function(t,e){t=t||[],t.split&&(t=t.split("|")),e=e||[],e.split&&(e=e.split("|"));for(var i=0;10>=i;i++)h[i]=t[i]||h[i],l[i]=e[i]||l[i]},(r.resetLabels=function(){h="millisecond second minute hour day week month year decade century millennium".split(" "),l="milliseconds seconds minutes hours days weeks months years decades centuries millennia".split(" ")})(),t&&t.exports?t.exports=r:"function"==typeof window.define&&window.define.amd&&window.define("countdown",[],function(){return r}),r}(module),app=app||{},util={extend:function(t,e){"use strict";for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}};app.util=util,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,s.prototype=new n,s});var app=app||{};!function(){"use strict";function t(t){for(var e=t.toString(2),i=6-e.length,n="",s=0;i>s;s++)n+="0";return n+e}function e(e,i){var n=e.getElementsByClassName("dot");n=Array.prototype.slice.call(n,0).reverse();for(var s=t(i).split("").reverse().join(""),a=0;a<n.length;a++)a<s.length?n[a].classList.toggle("on","1"===s[a]):n[a].classList.remove("on")}function i(t,i,n){var s=t.getElementsByClassName("numeric")[0];s.innerHTML=i;var a=t.getElementsByClassName("bin-col");"months"===n?e(a[0],i):(e(a[1],i%10),e(a[0],Math.floor(i/10)))}var n=new Date(2015,2,17);app.Timer=function(){this.tick();var t=1e3;app.mobile&&(t=15e3),window.setInterval(this.tick,t)},app.Timer.prototype.tick=function(){var t=countdown(n),e=document.getElementsByClassName("timer-block");i(e[0],t.months,"months"),i(e[1],t.days),i(e[2],t.hours),i(e[3],t.minutes),app.mobile||i(e[4],t.seconds)}}();var anim=anim||{};anim.shapeData={M:{width:140,height:130,vertices:{A:[0,0],B:[44,0],C:[140,0],D:[30,30],E:[70,30],F:[110,30],G:[70,70],H:[0,100],I:[110,100],J:[30,130],K:[140,130]},triangles:[["A","B","D",[["A","B",!0]]],["B","D","E",[["B","E",!0]]],["D","G","E",[["D","G",!1]]],["E","F","G",[["E","F",!0],["G","F",!1]]],["F","I","C",[["F","I",!1],["F","C",!0]]],["C","I","K",[["I","K",!1],["C","K",!0]]],["A","H","D",[["A","H",!1]]],["D","H","J",[["H","J",!1],["D","J",!0]]]]},A:{width:120,height:130,vertices:{A:[89,0],B:[119,29],C:[89,41],D:[119,55],E:[89,55],F:[0,88],G:[40,88],H:[0,130],I:[45,100],J:[89,100],K:[89,130],L:[119,130]},triangles:[["A","B","C",[["A","B",!1]]],["B","C","D",[["B","D",!1]]],["C","D","E",[["C","E",!1]]],["E","I","J",[["E","I",!1],["I","J",!1]]],["D","E","J",[]],["D","J","L",[["D","L",!1]]],["J","K","L",[["J","K",!1],["K","L",!1]]],["A","G","C",[["G","C",!1]]],["A","F","G",[["A","F",!1]]],["F","H","G",[["F","H",!1],["H","G",!1]]]]},G:{width:100,height:130,vertices:{A:[30,0],B:[100,0],C:[0,30],D:[70,30],E:[30,48],F:[70,48],G:[0,70],H:[70,70],I:[100,70],J:[30,100],K:[70,100],L:[60,130],M:[100,130]},triangles:[["A","B","D",[["A","B",!0],["B","D",!0]]],["A","C","D",[["A","C",!1],["C","D",!1]]],["C","E","G",[["C","E",!0],["C","G",!1]]],["E","G","J",[["G","J",!1]]],["E","F","H",[["E","F",!0]]],["F","I","K",[["F","I",!0]]],["K","I","M",[["M","I",!1]]],["J","K","L",[["J","L",!1]]],["K","L","M",[["L","M",!1]]]]},N:{width:120,height:130,vertices:{A:[0,0],B:[90,0],C:[30,30],D:[120,30],E:[0,45],F:[60,60],G:[30,73],H:[90,90],I:[0,100],J:[60,100],K:[120,100],L:[30,130],M:[90,130]},triangles:[["A","C","E",[["A","E",!1],["A","C",!1]]],["E","C","G",[]],["E","I","G",[["E","I",!1]]],["I","G","L",[["I","L",!1],["G","L",!1]]],["C","F","G",[["C","F",!1]]],["G","F","J",[["G","J",!1]]],["F","J","M",[["J","M",!1]]],["F","H","M",[["F","H",!1]]],["H","M","K",[["M","K",!1]]],["D","H","K",[["K","D",!1]]],["B","H","D",[["B","D",!1],["B","H",!1]]]]},O:{width:100,height:130,vertices:{A:[30,0],B:[70,0],C:[0,30],D:[30,30],E:[70,30],F:[100,30],G:[0,70],H:[30,70],I:[70,70],J:[100,70],K:[30,100],L:[70,100],M:[60,130],N:[100,130]},triangles:[["A","C","D",[["A","C",!1]]],["D","C","G",[["C","G",!1]]],["G","D","K",[["G","K",!1]]],["K","M","L",[["K","M",!1]]],["L","N","J",[["J","N",!1]]],["L","M","N",[["M","N",!1]]],["E","J","L",[]],["E","J","F",[["F","J",!0]]],["F","E","B",[["F","B",!1]]],["B","E","A",[["A","B",!0]]],["A","E","D",[]]]},V:{width:92,height:130,vertices:{A:[28,0],B:[92,0],C:[0,30],D:[64,30],E:[28,58],F:[92,58],G:[0,68],H:[60,90],I:[92,100],J:[60,130],K:[28,95]},triangles:[["A","C","E",[["A","C",!1],["E","A",!1]]],["C","E","G",[["C","G",!1]]],["E","G","K",[["G","K",!1]]],["K","E","H",[["H","E",!1]]],["K","H","J",[["K","J",!1]]],["J","I","H",[["J","I",!1]]],["I","H","F",[["I","F",!1]]],["D","F","H",[["D","H",!1]]],["B","D","F",[["D","B",!1],["F","B",!1]]]]},I:{width:28,height:130,vertices:{A:[0,0],B:[28,0],C:[0,28],D:[28,28],E:[28,60],F:[0,100],G:[28,130]},triangles:[["A","B","C",[["A","B",!0],["A","C",!1]]],["B","C","D",[["C","D",!1],["D","B",!1]]],["C","E","F",[["E","C",!1],["C","F",!1]]],["E","F","G",[["F","G",!1],["G","E",!1]]]]},T:{width:110,height:130,vertices:{A:[29,0],B:[74,0],C:[0,29],D:[46,29],E:[74,29],F:[46,56],G:[74,80],H:[46,100],I:[74,130],J:[110,0],K:[110,29]},triangles:[["A","C","D",[["A","C",!1],["C","D",!1]]],["A","B","D",[["A","B",!0]]],["B","D","E",[["B","E",!0]]],["D","E","F",[["D","F",!1]]],["F","E","G",[["G","E",!1]]],["F","G","H",[["H","F",!0]]],["G","H","I",[["H","I",!1],["G","I",!0]]],["E","J","K",[["E","J",!1],["J","K",!1],["K","E",!1]]]]},E:{width:72,height:130,vertices:{A:[0,0],B:[53,0],C:[30,28],D:[70,28],E:[0,48],F:[30,48],G:[50,48],H:[0,77],I:[30,77],J:[70,77],K:[30,100],L:[72,100],M:[60,130],N:[72,130]},triangles:[["A","B","C",[["A","B",!0]]],["B","C","D",[["B","D",!0],["C","D",!1]]],["A","C","E",[["A","E",!1]]],["C","E","F",[["C","F",!0]]],["E","G","I",[["G","E",!1]]],["E","H","I",[["E","H",!1]]],["G","I","J",[["I","J",!1],["G","J",!0]]],["H","I","K",[["I","K",!0],["H","K",!1]]],["K","L","M",[["K","M",!1],["K","L",!0]]],["L","M","N",[["L","N",!0],["M","N",!1]]]]}};var anim=anim||{};!function(){"use strict";anim.util={},anim.util.captureMouse=function(t){var e={x:0,y:0};return t.addEventListener("mousemove",function(i){var n,s;i.pageX||i.pageY?(n=i.pageX,s=i.pageY):(n=i.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=i.clientY+document.body.scrollTop+document.documentElement.scrollTop),n-=t.offsetLeft,s-=t.offsetTop,e.x=n,e.y=s},!1),e},anim.util.captureTouch=function(t){var e={x:null,y:null,isPressed:!1,event:null},i=document.body.scrollLeft,n=document.documentElement.scrollLeft,s=document.body.scrollTop,a=document.documentElement.scrollTop,o=t.offsetLeft,r=t.offsetTop;return t.addEventListener("touchstart",function(t){e.isPressed=!0,e.event=t},!1),t.addEventListener("touchend",function(t){e.isPressed=!1,e.x=null,e.y=null,e.event=t},!1),t.addEventListener("touchmove",function(t){var h,l,c=t.touches[0];c.pageX||c.pageY?(h=c.pageX,l=c.pageY):(h=c.clientX+i+n,l=c.clientY+s+a),h-=o,l-=r,e.x=h,e.y=l,e.event=t},!1),e},anim.util.forEachObj=function(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}}();var anim=anim||{};anim.common={createLetters:function(t,e){"use strict";var i=30,n=[],s=0;e.split("").forEach(function(t){s+=anim.shapeData[t].width,s+=i}),s-=i;var a=t.width/2-s/2;return e.split("").forEach(function(e){var s=anim.shapeData[e],o=t.height/2-s.height/2;n.push(new anim.Letter(a,o,s)),a+=s.width+i}),n},energyLine:function(t,e,i,n){"use strict";var s,a,o,r,h=100;e.id!==i.id&&(s=i.x-e.x,a=i.y-e.y,o=Math.sqrt(s*s+a*a),h>o&&(r=(1-o/h)*(n||.2),t.strokeStyle="rgba(255, 255, 255, "+r+")",t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()))},handleMouse:function(t,e,i,n){"use strict";var s=app.util.extend({maxDist:anim.mobile?200:125,force:.1,alpha:.8},n||{}),a=t.x-e.x,o=t.y-e.y,r=Math.sqrt(a*a+o*o);if(r<s.maxDist){var h=Math.atan2(o,a),l=Math.cos(h)*s.force,c=Math.sin(h)*s.force;e.vx+=l,e.vy+=c;var d=(1-r/s.maxDist)*s.alpha;return i.save(),i.strokeStyle="rgba(0, 255, 0, "+d+")",i.lineWidth=2,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore(),!0}return!1}};var anim=anim||{};!function(){"use strict";function t(t,e,i,n,s,a){var o=n-e,r=i-t,h=Math.atan2(o,r),l=Math.sqrt(r*r+o*o);this.x1=0,this.y1=0,this.x2=l,this.y2=0,s?(this.x=t,this.y=e,this.rotation=h):(this.x=i,this.y=n,this.x2=l,this.rotation=h+Math.PI),this.lineWidth=10,this.callback=a}t.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.strokeStyle="#ff0",t.lineWidth=this.lineWidth,t.beginPath(),t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2),t.closePath(),t.stroke(),t.restore()},t.prototype.getBounds=function(){if(0===this.rotation){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),i=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{x:this.x+t,y:this.y+e,width:i-t,height:n-e}}var s=Math.sin(this.rotation),a=Math.cos(this.rotation),o=a*this.x1+s*this.y1,r=a*this.x2+s*this.y2,h=a*this.y1+s*this.x1,l=a*this.y2+s*this.x2;return{x:this.x+Math.min(o,r),y:this.y+Math.min(h,l),width:Math.max(o,r)-Math.min(o,r),height:Math.max(h,l)-Math.min(h,l)}},anim.Line=t}();var anim=anim||{};!function(){"use strict";function t(t,e){this.cordinates=[t[e[0]],t[e[1]],t[e[2]]];var i=Math.floor(Math.random()*s.length);this.color=s[i],this.highlightAlpha=0,this.fading="null",this.delay=0}var e=.01,i=.005,n=.3,s=[{fill:"#313886",highlight:"rgba(151, 158, 236, "},{fill:"#1d226e",highlight:"rgba(80, 85, 161, "},{fill:"#0e145d",highlight:"rgba(65, 71, 144, "},{fill:"#2e347c",highlight:"rgba(97, 103, 175,"}];t.prototype.getCallback=function(){var t=this;return function(){t.highlightAlpha=Math.min(t.highlightAlpha+n,1),t.fading="in",t.updateHighlight()}},t.prototype.updateHighlight=function(){"in"===this.fading?this.highlightAlpha=Math.min(this.highlightAlpha+e,1):"out"===this.fading&&(this.highlightAlpha=Math.max(this.highlightAlpha-i,0)),0===this.highlightAlpha?this.fading="null":1===this.highlightAlpha&&(this.fading="out")},t.prototype.draw=function(t){if(this.delay>0)return void(this.delay-=15);var e=this.cordinates;t.save(),t.beginPath(),t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.closePath(),t.fillStyle=this.color.fill,t.fill(),this.highlightAlpha>0&&(t.fillStyle=this.color.highlight+this.highlightAlpha+")",t.fill(),this.updateHighlight()),t.restore()},anim.Triangle=t}();var anim=anim||{};!function(){"use strict";function t(t,e,i){var n=this;this.vertices=i.vertices,this.edges=[],this.external=[],this.edgeList={},this.triangles=[],i.triangles.forEach(function(i){var s=i[0]+i[1],a=i[1]+i[0],o=i[1]+i[2],r=i[2]+i[1],h=i[0]+i[2],l=i[2]+i[0];s in n.edgeList||a in n.edgeList||(n.edges.push([n.vertices[i[0]],n.vertices[i[1]]]),n.edgeList[s]=!0),o in n.edgeList||r in n.edgeList||(n.edges.push([n.vertices[i[1]],n.vertices[i[2]]]),n.edgeList[o]=!0),h in n.edgeList||l in n.edgeList||(n.edges.push([n.vertices[i[0]],n.vertices[i[2]]]),n.edgeList[h]=!0);var c=new anim.Triangle(n.vertices,i);n.triangles.push(c),c.delay=600*Math.random()+200,i[3].forEach(function(i){var s=n.vertices[i[0]],a=n.vertices[i[1]];n.external.push(new anim.Line(s[0]+t,s[1]+e,a[0]+t,a[1]+e,i[2],c.getCallback()))})}),this.x=t,this.y=e}var e="rgba(80, 186, 248, 0.9)",i=2,n="rgba(80, 186, 248, 0.5)";t.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),this.triangles.forEach(function(e){e.draw(t)}),t.fillStyle=e,anim.util.forEachObj(this.vertices,function(e,n){t.beginPath(),t.arc(n[0],n[1],i,0,2*Math.PI,!1),t.closePath(),t.fill()}),t.strokeStyle=n,this.edges.forEach(function(e){var i=e[0],n=e[1];t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(n[0],n[1]),t.stroke()}),t.restore()},anim.Letter=t}();var anim=anim||{};!function(){"use strict";function t(t,e){this.id=r++,i=t,this.bounds={left:0,right:t.width,top:0,bottom:t.height},this.radius=Math.random()*l+h,this.mass=this.radius*d,this.color=a,this.highlightColor=o,this.highlightAlpha=0,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.vx=Math.random()*c,this.vy=Math.random()*c,this.vx*=-1*Math.round(Math.random()),this.vy*=-1*Math.round(Math.random()),10*Math.random()>5&&(this.vx*=-1),10*Math.random()>5&&(this.vy*=-1),this.delay=e}function e(t,e,i,n,s){return{x:s?t*n+e*i:t*n-e*i,y:s?e*n-t*i:e*n+t*i}}var i,n="#4fe400",s="rgba(0, 255, 0, ",a="#1d215c",o="rgba(88, 93, 155,",r=1,h=7,l=3,c=.7,d=5;t.prototype.randomise=function(){this.x=Math.random()*i.width,this.y=Math.random()*i.height,this.x=Math.random()*i.width,this.y=Math.random()*i.height,this.vx=Math.random()*c,this.vy=Math.random()*c,this.vx*=-1*Math.round(Math.random()),this.vy*=-1*Math.round(Math.random())},t.prototype.tag=function(t){t?(this.tagged=!0,this.color=n,this.highlightColor=s):(this.tagged=!1,this.color=a,this.highlightColor=o)},t.prototype.isTagged=function(){return!!this.tagged},t.prototype.update=function(){this.x+=this.vx,this.y+=this.vy,this.x+this.radius>this.bounds.right?(this.x=this.bounds.right-this.radius,this.vx*=-1):this.x-this.radius<this.bounds.left&&(this.x=this.bounds.left+this.radius,this.vx*=-1),this.y+this.radius>this.bounds.bottom?(this.y=this.bounds.bottom-this.radius,this.vy*=-1):this.y-this.radius<this.bounds.top&&(this.y=this.bounds.top+this.radius,this.vy*=-1)},t.prototype.draw=function(t){return this.delay>0?void(this.delay-=15):(t.save(),t.translate(this.x,this.y),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fillStyle=this.color,t.fill(),this.highlightAlpha>0&&(t.fillStyle=this.highlightColor+this.highlightAlpha+")",t.fill(),this.highlightAlpha=Math.max(this.highlightAlpha-.001,0)),void t.restore())},t.prototype.collide=function(t){var i=t.x-this.x,n=t.y-this.y,s=Math.sqrt(i*i+n*n);if(s&&s<t.radius+this.radius){var a=Math.atan2(n,i),o=Math.sin(a),r=Math.cos(a),h={x:0,y:0},l=e(i,n,o,r,!0),c=e(this.vx,this.vy,o,r,!0),d=e(t.vx,t.vy,o,r,!0),u=c.x-d.x;c.x=((this.mass-t.mass)*c.x+2*t.mass*d.x)/(this.mass+t.mass),d.x=u+c.x,h.x+=c.x,l.x+=d.x;var m=e(h.x,h.y,o,r,!1),g=e(l.x,l.y,o,r,!1);t.x=this.x+g.x,t.y=this.y+g.y,this.x=this.x+m.x,this.y=this.y+m.y;var f=e(c.x,c.y,o,r,!1),y=e(d.x,d.y,o,r,!1);this.vx=f.x,this.vy=f.y,t.vx=y.x,t.vy=y.y,this.highlightAlpha=Math.min(this.highlightAlpha+.4,1),t.highlightAlpha=Math.min(t.highlightAlpha+.4,1)}this.clamp(),t.clamp()},t.prototype.collideLine=function(t){var e=t.getBounds();if(this.x+this.radius>e.x&&this.x-this.radius<e.x+e.width&&this.y+this.radius>e.y&&this.y-this.radius<e.y+e.height){var i=Math.cos(t.rotation),n=Math.sin(t.rotation),s=this.x-t.x,a=this.y-t.y,o=i*a-n*s,r=i*this.vy-n*this.vx;if(o>-this.radius&&r>o){var h=i*s+n*a,l=i*this.vx+n*this.vy;return o=-this.radius,r*=-1,s=i*h-n*o,a=i*o+n*h,this.vx=i*l-n*r,this.vy=i*r+n*l,this.x=t.x+s,this.y=t.y+a,t.callback&&t.callback(this),!0}}return!1},t.prototype.clamp=function(){this.vx>c&&(this.vx=c),this.vy>c&&(this.vy=c)},anim.Atom=t}();var anim=anim||{};!function(){"use strict";function t(t,e){var i;for(l=t,c=e,d=[],m=[],E=0,x=0,w=T,F="ready",i=0;C>i;i++)d.push(new anim.Atom(t,D+Math.random()*b));return u=anim.common.createLetters(t,L),u.forEach(function(t){Array.prototype.push.apply(m,t.external)}),document.body.classList.remove("logo-mode"),document.body.classList.add("game-mode"),document.getElementsByClassName("js-reset")[0].addEventListener("click",function(t){t.preventDefault(),anim.setMode("game")}),document.getElementsByClassName("js-countdown")[0].addEventListener("click",function(t){t.preventDefault(),anim.setMode("logo")}),g=document.getElementsByClassName("js-timer")[0],p=document.getElementsByClassName("js-score-curr")[0],v=document.getElementsByClassName("js-score-best")[0],f=Array.prototype.slice.call(document.getElementsByClassName("js-prog-max")),y=Array.prototype.slice.call(document.getElementsByClassName("js-prog-curr")),r(),h(),a}function e(){if(w>0)return void(w-=15);var t;w>-500&&(t=w/-500*.2,w-=15),d.forEach(function(e){d.forEach(function(i){void 0!==t?anim.common.energyLine(c,e,i,t):anim.common.energyLine(c,e,i)})})}function i(){var t=anim.getPointer();if(!t)return 0;var e=t,i=5;if(!(e&&e.x>i&&e.x<l.width-i&&e.y>i&&e.y<l.height-i))return 0;if(w>0)return 0;var s=0;return d.forEach(function(e){var i=anim.common.handleMouse(t,e,c);!i||"playing"!==F&&"ready"!==F||(s+=1,e.tag(!0),"playing"!==F&&n())}),s}function n(){"ready"===F&&(M=new Date,F="playing",document.body.classList.add("game-playing"))}function s(){F="paused",o(),document.body.classList.remove("game-playing");var t;"undefined"!=typeof Storage?(t=localStorage.getItem("maxScore"),(!t||x>t)&&(localStorage.setItem("maxScore",x),t=x)):t="-",p.innerHTML=x,v.innerHTML=t}function a(){var t;c.clearRect(0,0,l.width,l.height),"paused"!==F&&(e(),t=i(),d.forEach(function(t){d.forEach(function(e){t.collide(e)}),m.forEach(function(e){var i=t.collideLine(e);"playing"===F&&i&&t.isTagged()&&(t.color="#f00",t.draw(c),s())})})),d.forEach(function(t){"paused"!==F&&t.update(c),t.draw(c)}),t!==E&&(E=t,x=Math.max(E,x),r()),u.forEach(function(t){t.draw(c)}),h()}function o(){document.body.classList.add("game-over")}function r(){var t=window.innerWidth,e=E/C*t,i=x/C*t;y.forEach(function(t){t.style.width=e+"px"}),f.forEach(function(t){t.style.width=i+"px"})}function h(){if(!M||"playing"!==F)return void(g.innerHTML="0:00:00");var t,e,i,n,a="X:XX:XX";t=A-(new Date-M),0>=t?(s(),a="0:00:00"):(e=Math.floor(t/6e4),t-=60*e*1e3,i="0"+Math.floor(t/1e3),t-=1e3*i,n=t,n>100&&(n=Math.floor(n/10)),n="0"+n,a=e+":"+i.substring(i.length-2)+":"+n.substring(n.length-2)),g.innerHTML=a}var l,c,d,u,m,g,f,y,p,v,M,E,x,w,C=30,L="TTVTT",A=6e4,D=1e3,b=1e3,T=2e3,F="ready";anim.game={main:t}}();var anim=anim||{},app=app||{};!function(){"use strict";function t(t,e){var c;for(o=[],h=[],a=g,n=t,s=e,anim.mobile&&(f=10,l="M"),c=0;f>c;c++)o.push(new anim.Atom(n,u+Math.random()*m));return document.body.classList.remove("game-mode"),document.body.classList.add("logo-mode"),r=anim.common.createLetters(n,l),r.forEach(function(t){Array.prototype.push.apply(h,t.external)}),i}function e(t){var e=20,i=!1,s=anim.getPointer();s&&s.x>e&&s.x<n.width-e&&s.y>e&&s.y<n.height-e&&(i=!0);var r,l=!0;a>0?(a-=15,l=!1):a>-500&&(r=a/-500,a-=15);var u=0;o.forEach(function(e){if(i&&l&&s){var n;n=r?anim.common.handleMouse(s,e,t,{alpha:.8*r}):anim.common.handleMouse(s,e,t),n&&(u+=1)}o.forEach(function(i){var n;r&&(n=.2*r),l&&anim.common.energyLine(t,e,i,n),e.collide(i)})}),d&&0===u&&(c+=15,c>=2e3&&d&&(document.body.classList.remove("logo-interacted"),d=!1)),u>3&&!d&&(document.body.classList.add("logo-interacted"),d=!0,c=0),o.forEach(function(e){h.forEach(function(t){e.collideLine(t)}),e.update(t),e.draw(t)})}function i(){s.clearRect(0,0,n.width,n.height),e(s),r.forEach(function(t){t.draw(s)})}var n,s,a,o,r,h,l="MAGNOVITE",c=0,d=!1,u=1e3,m=1e3,g=2e3,f=30;anim.logo={main:t}}();var anim=anim||{};!function(){"use strict";function t(){if(Modernizr.canvas||window.alert("blah"),window.innerWidth<767?anim.mobile=!0:anim.desktop=!0,Modernizr.touch&&(anim.touch=!0),!anim.mobile){var t=document.getElementsByClassName("landing")[0];t.style.height=window.innerHeight+"px"}"complete"===document.readyState||"loaded"===document.readyState?e():document.addEventListener("DOMContentLoaded",e),anim.desktop&&document.getElementsByClassName("js-start-game")[0].addEventListener("click",function(t){t.preventDefault(),n("game")})}function e(){if(anim.touch){a=anim.util.captureTouch(l);var t;l.addEventListener("touchstart",function(){t=new Date}),l.addEventListener("touchend",function(){o=!1,t=void 0}),l.addEventListener("touchmove",function(e){t&&new Date-t>300&&(o=!0,e.preventDefault())})}else a=anim.util.captureMouse(l);var e=window.innerHeight;anim.desktop&&(e-=250),l.setAttribute("width",window.innerWidth),l.setAttribute("height",e),d=!0,void 0!==r&&n(r),window.requestAnimationFrame(i)}function i(){window.requestAnimationFrame(i),d&&void 0!==r&&h()}function n(t){"game"===t?h=anim.game.main(l,c):"logo"===t&&(h=anim.logo.main(l,c)),r=t}function s(){return anim.touch&&!o?void 0:a}var a,o,r,h,l=document.getElementById("canvas"),c=l.getContext("2d"),d=!1;anim.init=t,anim.setMode=n,anim.getPointer=s}();